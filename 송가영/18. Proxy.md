## π”Έ Proxyλ€?
ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— μ„μΉν•μ—¬ κ·Έ μ‚¬μ΄μ HTTP λ©”μ‹μ§€λ¥Ό μ •λ¦¬ν•λ” μ¤‘κ°μμ…λ‹λ‹¤.  

<img src="https://user-images.githubusercontent.com/17793440/180641369-6ba646e7-a37f-4478-ac5e-cc864a8f8ad9.png" />


μ›Ή ν”„λ΅μ‹κ°€ μ—†λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈλ” HTTP μ„λ²„μ™€ μ§μ ‘ ν†µμ‹ ν•μ§€λ§, μ›Ή ν”„λ΅μ‹κ°€ μλ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈλ” HTTP μ„λ²„μ™€ ν†µμ‹ ν•λ” λ€μ‹  μμ‹ μ μ…μ¥μ—μ„ μ„λ²„μ™€ λ€ν™”ν•΄μ£Όλ” ν”„λ΅μ‹μ™€ ν†µμ‹ ν•©λ‹λ‹¤.

**μΆ…λ¥**
- κ³µμ  ν”„λ΅μ‹  
  μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ ν•¨κ» μ‚¬μ©ν•λ” ν”„λ΅μ‹λ¥Ό κ³µμ© ν”„λ΅μ‹λΌκ³  ν•λ©°, λ€λ¶€λ¶„μ ν”„λ΅μ‹λ” κ³µμ©μ΄λ©° κ³µμ λ ν”„λ΅μ‹μ…λ‹λ‹¤.  
  μ¤‘μ•™ μ§‘μ¤‘ν•μΌλ΅ ν”„λ΅μ‹λ¥Ό κ΄€λ¦¬ν•λ” κ²ƒμ΄ λΉ„μ© ν¨μ¨μ΄ λ†’κ³  μ‰¬μ°λ©°,  
  νΉν μΊμ‹ ν”„λ΅μ‹ μ„λ²„μ™€ κ°™μ€ ν”„λ΅μ‹λ” μ—¬λ¬ μ‚¬μ©μλ“¤μ κ³µν†µλ μ”μ²­μ—μ„ μ΄λ“μ„ μ·¨ν•  μ μκΈ° λ•λ¬Έμ— μ‚¬μ©μκ°€ λ§μ„ μλ΅ μ λ¦¬ν•©λ‹λ‹¤.  
    
- κ°μΈ ν”„λ΅μ‹  
  ν•λ‚μ ν΄λΌμ΄μ–ΈνΈκ°€ λ…μ μ μΌλ΅ μ‚¬μ©ν•λ” ν”„λ΅μ‹λ¥Ό κ°μΈ ν”„λ΅μ‹λΌκ³  νλ©°, λΈλΌμ°μ €μ κΈ°λ¥μ„ ν™•μ¥ν•κ±°λ‚ μ„±λ¥μ„ κ°μ„ ν•κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤.  

**Proxy vs κ²μ΄νΈμ›¨μ΄**   
 ν”„λ΅μ‹λ” κ°™μ€ ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ” λ‘ μ΄μƒμ μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ μ—°κ²°ν•κ³ , κ²μ΄νΈμ›¨μ΄λ” μ„λ΅ λ‹¤λ¥Έ ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ” λ‘ μ΄μƒμ„ μ—°κ²°ν•©λ‹λ‹¤.  
 κ²μ΄νΈμ›¨μ΄λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅ λ‹¤λ¥Έ ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ”λΌλ„ μ„λ΅ κ°„μ νΈλμ­μ…μ„ μ™„λ£ν•  μ μλ„λ΅ ν•΄μ£Όλ” ν”„λ΅ν† μ½ λ³€ν™κΈ°μ²λΌ λ™μ‘ν•©λ‹λ‹¤.

<img src="https://user-images.githubusercontent.com/17793440/180641123-958deede-0442-4b65-b8b3-6f76f70a804d.png" width="600px"/>

<br/><br/>

## π”Έ Proxyλ¥Ό μ‚¬μ©ν•λ” μ΄μ   
λ³΄μ•μ„ κ°μ„ ν•κ³ , μ„±λ¥μ„ λ†’μ΄κ³ , λΉ„μ©μ„ μ μ•½ν•κΈ° μ„ν•΄ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.  

- μ–΄λ¦°μ΄ ν•„ν„°   
  μ–΄λ¦°μ΄μ—κ² μ ν•΄ν• μ‚¬μ΄νΈλ¥Ό μ°¨λ‹¨ν•κΈ° μ„ν•΄ ν•„ν„°λ§ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.  
  <img src="https://user-images.githubusercontent.com/17793440/180641424-2e3d520c-e043-42da-abfe-62d28ac2460b.png" width="500px"/>

- λ¬Έμ„ μ ‘κ·Ό μ μ–΄μ  
  κΈ°μ—…μ—μ„ μ¤‘μ•™ ν”„λ΅μ‹ μ„λ²„λ¥Ό λ‘μ–΄ μ›Ή μ„λ²„, μ›Ή λ¦¬μ†μ¤μ— λ€ν•΄ μ ‘κ·Ό μ μ–΄λ¥Ό κµ¬ν„ν•  μ μμµλ‹λ‹¤.  
  <img src="https://user-images.githubusercontent.com/17793440/180641549-10b39027-e694-425f-b8ed-159371dc1c6a.png" width="500px"/>
  
- λ³΄μ• λ°©ν™”λ²½  
  μ΅°μ§ μ•μ— λ“¤μ–΄μ¤κ±°λ‚ λ‚κ°€λ” λ„¤νΈμ›ν¬ νλ¦„μ„ ν• μ§€μ μ—μ„ ν†µμ ν•μ—¬ λ³΄μ•μ„ κ°•ν™”ν•κΈ° μ„ν•΄ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.  
  <img src="https://user-images.githubusercontent.com/17793440/180642682-347c29b4-be8c-4b45-a7f4-7fb3fb64ec23.png" width="500px"/> 
  
- μ›Ή μΊμ‹  
  μ ‘κ·Όμ΄ λ§μ€ λ¬Έμ„μ λ΅μ»¬ μ‚¬λ³Έμ„ κ΄€λ¦¬ν•κ³ , ν•΄λ‹Ή λ¬Έμ„μ— λ€ν• μ”μ²­μ΄ μ¤λ©΄ λΉ λ¥΄κ² μ κ³µν•μ—¬ λλ¦¬κ³  λΉ„μ‹Ό μΈν„°λ„· μ»¤λ®¤λ‹μΌ€μ΄μ…μ„ μ¤„μ…λ‹λ‹¤.    
  <img src="https://user-images.githubusercontent.com/17793440/180642694-cc5ca4fc-95ba-41e2-b73c-7286e75f2bff.png" width="500px" />

  
- λ€λ¦¬ ν”„λ΅μ‹  
  μ›Ή μ„λ²„μΈ κ²ƒ μ²λΌ λ™μ‘ν•λ©°, λ¦¬λ²„μ¤ ν”„λ΅μ‹ λλ” λ€λ¦¬ ν”„λ΅μ‹λΌκ³  λ¶€λ¦…λ‹λ‹¤.  
  ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ¥Ό μ”μ²­ν•  λ• λ¦¬μ„λΈ ν”„λ΅μ‹λ¥Ό νΈμ¶ν•κ³ , λ¦¬λ²„μ¤ ν”„λ΅μ‹κ°€ μ»¨ν…μΈ κ°€ μλ” μ„λ²„λ΅λ¶€ν„° μ‘λ‹µμ„ λ°›μ•„ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•©λ‹λ‹¤.  
  λ΅λ“λ°Έλ°μ‹±, λ³΄μ•, μ„±λ¥ ν–¥μƒμ„ λ©μ μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.  
  
  <img src="https://user-images.githubusercontent.com/17793440/180642709-69d0f56f-c7f0-43fd-8019-78d57a02b187.png" width="500px"/>

<br/><br/>

## π”Έ Proxy μ„λ²„ λ°°μΉ  
- μ¶κµ¬ ν”„λ΅μ‹  
  λ΅μ»¬ λ„¤νΈμ›ν¬μ™€ λ” ν° λ„¤νΈμ›ν¬ μ‚¬μ΄μ νΈλν”½μ„ μ μ–΄ν•κΈ° μ„ν•΄ ν”„λ΅μ‹λ¥Ό λ΅μ»¬ λ„¤νΈμ›ν¬μ μ¶κµ¬μ— λ„£μ„ μ μμµλ‹λ‹¤.  
  νμ‚¬ μ™Έλ¶€μ ν•΄μ»¤λ“¤μ„ λ§‰λ” λ°©ν™”λ²½μ„ μ κ³µν•κΈ° μ„ν•΄, μ–΄λ¦°μ΄μ μ ν•΄ μ‚¬μ΄νΈ μ ‘κ·Όμ„ λ§‰λ” ν•„ν„°λ§ ν”„λ΅μ‹λ¥Ό μ„¤μ •ν•κΈ° μ„ν•΄ μ¶κµ¬ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.  

- μ ‘κ·Ό ν”„λ΅μ‹  
  λ¨λ“  μ”μ²­μ„ μΆ…ν•©μ μΌλ΅ μ²λ¦¬ν•κΈ° μ„ν•΄ ISP μ ‘κ·Ό μ§€μ μ— μ„μΉν•©λ‹λ‹¤.  

- λ€λ¦¬ ν”„λ΅μ‹  
  λ€λ¦¬ ν”„λ΅μ‹λ” λ³΄ν†µ μ›Ή μ„λ²„λ“¤μ λ°”λ΅ μ•μ— μ„μΉν•©λ‹λ‹¤.    

- λ„¤νΈμ›ν¬ κµν™ ν”„λ΅μ‹   
  μΊμ‹λ¥Ό μ΄μ©ν•μ—¬ νΌμ΅μ„ μ™„ν™”ν•κ³  νΈλν”½ νλ¦„μ„ κ°μ‹ν•κΈ° μ„ν•΄ λ„¤νΈμ›ν¬ μ‚¬μ΄μ— μ„μΉν•©λ‹λ‹¤.  
  
<br/><br/>

## π”Έ Proxy μ„λ²„κ°€ νΈλν”½μ„ μ²λ¦¬ν•λ„λ΅ μ„¤μ •ν•λ” λ°©λ²•
   ν΄λΌμ΄μ–ΈνΈ νΈλν”½μ΄ ν”„λ΅μ‹ μ„λ²„λ΅ κ°€λ„λ΅ μ„¤μ •ν•λ” λ°©λ²•μ—λ” 4κ°€μ§€κ°€ μμµλ‹λ‹¤.  
   
 - ν΄λΌμ΄μ–ΈνΈ μμ •  
   μ›Ή ν΄λΌμ΄μ–ΈνΈλ” μλ™/μλ™ ν”„λ΅μ‹ μ„¤μ •μ„ μ§€μ›ν•©λ‹λ‹¤.  
   λ§μ•½ ν΄λΌμ΄μ–ΈνΈκ°€ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•λ„λ΅ μ„¤μ •λμ–΄ μμΌλ©΄, ν΄λΌμ΄μ–ΈνΈλ” HTTPμ”μ²­μ„ λ°”λ΅ ν”„λ΅μ‹λ΅ λ³΄λƒ…λ‹λ‹¤.  
   
 - λ„¤νΈμ›ν¬ μμ •
   ν¬λ… ν”„λ΅μ‹(Transparent Proxy)λ¥Ό λ‘μ–΄ ν΄λΌμ΄μ–ΈνΈ λ¨λ¥΄κ² νΈλν”½μ„ ν”„λ΅μ‹ μ„λ²„λ΅ λ³΄λ‚Ό μ μμµλ‹λ‹¤.
   μ΄ λ• μ¤μ„μΉ­ μ¥μΉμ™€ λΌμ°ν… μ¥μΉκ°€ ν•„μ”ν•©λ‹λ‹¤.
   
 - DNS μ΄λ¦„κ³µκ°„ μμ •  
   λ€λ¦¬ ν”„λ΅μ‹μ™€ κ°™μ΄ ν”„λ΅μ‹ μ„λ²„κ°€ μ›Ή μ„λ²„μ μ΄λ¦„κ³Ό IPμ£Όμ†λ¥Ό μ‚¬μ©ν•λ„λ΅ ν•μ—¬, λ¨λ“  μ”μ²­μ„ ν”„λ΅μ‹ μ„λ²„λ΅ λ³΄λ‚Ό μ μμµλ‹λ‹¤.  
   
  - μ›Ή μ„λ²„ μμ •  
    HTTP λ¦¬λ‹¤μ΄λ ‰μ… λ…λ Ή(μ‘λ‹µμ½”λ“ : 305)μ„ ν΄λΌμ΄μ–ΈνΈμ— λλ ¤μ¤μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ ν”„λ΅μ‹ μ„λ²„λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ λλ„λ΅ μ„¤μ •ν•  μ μμµλ‹λ‹¤.  
  
  <br/><br/>
    
## π”Έ Proxy μ‚¬μ© νΉμ§•
1. ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ‹μ— Proxy URIμ™€ μ„λ²„ URIμ μ°¨μ΄

: ν΄λΌμ΄μ–ΈνΈκ°€ μ›Ή μ„λ²„λ΅ μ”μ²­μ„ λ³΄λ‚Ό λ•λ” μ¤ν‚΄, νΈμ¤νΈ, ν¬νΈλ²νΈκ°€ μ—†λ” λ¶€λ¶„ URIλ¥Ό κ°€μ§‘λ‹λ‹¤.  
 ex)  GET /index.html HTTP/1.0  

 ν΄λΌμ΄μ–ΈνΈκ°€ ν”„λ΅μ‹λ΅ μ”μ²­μ„ λ³΄λ‚Ό λ•λ” λ‹¤μκ³Ό κ°™μ΄ μ™„μ „ν• URIλ¥Ό κ°–μµλ‹λ‹¤.  
 λ©μ μ§€ μ„λ²„μ™€ μ»¤λ„¥μ…μ„ λ§Ίμ–΄μ•Όν•κΈ° λ•λ¬Έμ—, μ„λ²„μ μ΄λ¦„κ³Ό μ¤ν‚΄μ„ μ•ν•„μ”κ°€ μμµλ‹λ‹¤.  
 ex) GET http://www.google.com/index.html HTTP/1.0  

2. Via ν—¤λ” 
   μ”μ²­ λ©”μ‹μ§€κ°€ ν”„λ΅μ‹λ¥Ό μ§€λ‚  λ•λ§λ‹¤ Via λ©λ΅μ λμ— ν”„λ΅μ‹ μ •λ³΄λ¥Ό κΈ°λ΅ν•©λ‹λ‹¤.  
   Via ν—¤λ”λ¥Ό ν†µν•΄ λ©”μ‹μ§€μ μ „λ‹¬μ„ μ¶”μ ν•  μ μμµλ‹λ‹¤.  
   (Trace λ©”μ„λ“λ¥Ό ν†µν•΄μ„λ„ λ©”μ‹μ§€μ λ³€κ²½/μ „λ‹¬μ„ μ¶”μ  κ°€λ¥ν•¨)  
   
  

     


